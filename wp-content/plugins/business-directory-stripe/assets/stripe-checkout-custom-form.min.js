jQuery(function($){Stripe.setPublishableKey(wpbdp_checkout_stripe_js.publishable_key),$("#wpbdp-checkout-form").on("click",'.wpbdp-checkout-submit input[type="submit"]',function(e){var $form=$("#wpbdp-checkout-form");if("stripe"!=$form.find('[name="gateway"]:checked').val())return!0;e.preventDefault();var $submit_btn=$form.find('input[type="submit"]'),$errors=$form.find(".wpbdp-checkout-errors");$submit_btn.prop("disabled",!0),$errors.html("");var stripe_data={number:$('[name="card_number"]',$form).val(),cvc:$('[name="cvc"]',$form).val(),name:$('[name="card_name"]',$form).val(),exp_month:$('[name="exp_month"]',$form).val(),exp_year:$('[name="exp_year"]',$form).val(),address_line1:$('[name="payer_address"]',$form).val(),address_line2:$('[name="payer_address_2"]',$form).val(),address_city:$('[name="payer_city"]',$form).val(),address_zip:$('[name="payer_zip"]',$form).val(),address_country:$('[name="payer_country"]',$form).val(),address_state:$('[name="payer_state"]',$form).val()};Stripe.card.createToken(stripe_data,function(status,response){if(response.error)return $errors.append($('<div class="wpbdp-msg error wpbdp-checkout-error">').text(response.error.message)),$submit_btn.prop("disabled",!1),void $("html, body").animate({scrollTop:$form.offset().top},1e3);var token=response.id;$form.append($('<input type="hidden" name="stripeToken" />').val(token)),$form.get(0).submit()})})});