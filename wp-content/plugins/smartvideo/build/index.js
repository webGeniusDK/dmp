(()=>{"use strict";var e={n:t=>{var a=t&&t.__esModule?()=>t.default:()=>t;return e.d(a,{a}),a},d:(t,a)=>{for(var l in a)e.o(a,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:a[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,a=window.wp.i18n,l=window.wp.components,n=window.wp.element,r=(0,n.forwardRef)((function({icon:e,size:t=24,...a},l){return(0,n.cloneElement)(e,{width:t,height:t,...a,ref:l})})),o=window.wp.primitives,i=(0,t.createElement)(o.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,t.createElement)(o.Path,{d:"M18.5 15v3.5H13V6.7l4.5 4.1 1-1.1-6.2-5.8-5.8 5.8 1 1.1 4-4v11.7h-6V15H4v5h16v-5z"}));class m extends n.Component{constructor(){super(...arguments),this.state={frame:!1},this.openModal=this.openModal.bind(this),this.handleImageSelect=this.handleImageSelect.bind(this),this.removeImage=this.removeImage.bind(this)}openModal(){if(this.state.frame)return void this.state.frame.open();const e=wp.media({title:(0,a.__)("Select or upload image","swarmify"),button:{text:(0,a.__)("Select","swarmify")},library:{type:"image"},multiple:!1});e.on("select",this.handleImageSelect),e.open(),this.setState({frame:e})}handleImageSelect(){const{onChange:e}=this.props;e(this.state.frame.state().get("selection").first().toJSON().url)}removeImage(){const{onChange:e}=this.props;e(null)}render(){const{className:e,image:t}=this.props;return(0,n.createElement)(n.Fragment,null,!!t&&(0,n.createElement)("div",{className:e},(0,n.createElement)("div",null,(0,n.createElement)("img",{src:t,alt:""})),(0,n.createElement)(l.Button,{isSecondary:!0,onClick:this.removeImage},(0,a.__)("Remove image","swarmify"))),!t&&(0,n.createElement)("div",{className:e},(0,n.createElement)(l.Button,{onClick:this.openModal,isSecondary:!0},(0,n.createElement)(r,{icon:i}),(0,a.__)("Add an image","swarmify"))))}}const c=m,s=window.wp.apiFetch;var d=e.n(s);const u=window.lodash,p=e=>null==e?void 0:"on"===e,y=e=>"boolean"==typeof e?e?"on":"off":e,E=({checkVal:e,children:a})=>null==e?(0,t.createElement)(l.Spinner,null):a,h=({jumpToSetup:e})=>(0,t.createElement)(l.Card,null,(0,t.createElement)(l.CardBody,null,(0,t.createElement)("h2",null,"Welcome to SmartVideo! ðŸ‘‹"),(0,t.createElement)("p",{className:"paragraph"},"We're excited to start powering your site's video experience. After just a few minutes of setup, your site will have a fast, clean, professional video experience that your visitors will love.")),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)(l.CardBody,null,(0,t.createElement)(l.Flex,{direction:"column"},(0,t.createElement)(l.FlexItem,null,(0,t.createElement)("h2",null,"If you already have a SmartVideo account, click the button below:")),(0,t.createElement)(l.FlexItem,null,(0,t.createElement)(l.Button,{className:"swarmify-button",variant:"primary",onClick:e},"Setup"))))),g=({cdnKey:e})=>{if(void 0!==e&&""!==e&&!/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-a-f]{12}$/i.test(e))return(0,t.createElement)(l.Notice,{status:"error",isDismissible:!1},"Invalid CDN key format")},f=({cdnKey:e,updateSwarmifySetting:a,jumpToUsage:r})=>(0,t.createElement)(n.Fragment,null,(0,t.createElement)(l.Card,null,(0,t.createElement)(l.CardHeader,null,(0,t.createElement)("h2",null,"Your CDN Key")),(0,t.createElement)(l.CardBody,null,(0,t.createElement)("div",null,"1. Visit ",(0,t.createElement)(l.ExternalLink,{href:"https://swarmify.idevaffiliate.com/idevaffiliate.php?id=10275&url=49"},"dash.swarmify.com"))),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)(l.CardBody,null,(0,t.createElement)(l.__experimentalVStack,null,(0,t.createElement)("div",null,"2. Copy your Swarm CDN Key to your clipboard like so:"),(0,t.createElement)(l.CardMedia,null,(0,t.createElement)("img",{src:smartvideoPlugin.assetUrl+"/admin/images/screen1.gif",alt:""})))),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)(l.CardBody,null,(0,t.createElement)(l.Flex,{direction:"column"},(0,t.createElement)(l.FlexItem,null,"3. Paste your ",(0,t.createElement)("b",null,"Swarm CDN Key")," into the field below:"),(0,t.createElement)(l.FlexItem,null,(0,t.createElement)(E,{checkVal:e},(0,t.createElement)(l.__experimentalInputControl,{value:e,onChange:e=>a("swarmify_cdn_key",e),placeholder:"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"}))),(0,t.createElement)(l.FlexItem,null,(0,t.createElement)(g,{cdnKey:e})))),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)(l.CardBody,null,(0,t.createElement)(l.Flex,{direction:"column"},(0,t.createElement)(l.FlexItem,null,"4. Click the button below:"),(0,t.createElement)(l.FlexItem,null,(0,t.createElement)(E,{checkVal:e},(0,t.createElement)(l.Button,{className:"swarmify-button",variant:"primary",onClick:()=>a("swarmify_status","on")},"Enable SmartVideo"))))),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)(l.CardBody,null,(0,t.createElement)(l.Flex,{direction:"column"},(0,t.createElement)(l.FlexItem,null,"5. Now that everything's enabled, visit the ",(0,t.createElement)("b",null,"Usage")," tab to learn how to add SmartVideos, or check out the Settings tab to customize how SmartVideo works."))))),v=()=>(0,t.createElement)(l.Card,null,(0,t.createElement)(l.CardHeader,null,(0,t.createElement)("h2",null,"How do I add a SmartVideo to my website?")),(0,t.createElement)(l.CardBody,null,(0,t.createElement)(l.__experimentalVStack,{spacing:8,alignment:"left",expanded:!1},(0,t.createElement)("div",{className:"setup-paragraph"},"After enabling SmartVideo, it will begin scanning your site for YouTube and Vimeo videos."),(0,t.createElement)("div",{className:"setup-paragraph"},(0,t.createElement)("b",null,"If you have YouTube or Vimeo videos on your site"),", they will be converted to SmartVideo and be displayed in a clean, fast-loading player automatically, requiring no extra work on your part."),(0,t.createElement)("div",{className:"setup-paragraph"},(0,t.createElement)("b",null,"If you want to add a video to your site directly"),", simply use our included SmartVideo block. After enabling SmartVideo, this block will be visible in your page editor ",(0,t.createElement)("i",null,"(current supported editors: Classic WordPress Editor, Gutenberg, Beaver Builder, Divi, and Elementor)"),"."),(0,t.createElement)(l.CardMedia,null,(0,t.createElement)("img",{src:smartvideoPlugin.assetUrl+"/admin/images/widgetdemo.gif",alt:""})),(0,t.createElement)("div",{className:"setup-paragraph"},"When a page with a video loads for the first time, SmartVideo fetches that video, encodes it, and stores it on our network. Depending on the resolution of the video file, ",(0,t.createElement)("b",null,"a video typically takes one to two times the length of the video to process")," ",(0,t.createElement)("i",null,"(a 10-minute video should take 10-20 minutes)"),"."),(0,t.createElement)("div",{className:"setup-paragraph"},"You will know that a video has been fully converted by SmartVideo when, while hovering over the ",(0,t.createElement)("i",null,"Video Acceleration")," icon on the player, the popup box says ",(0,t.createElement)("b",null,"Video Acceleration: On")),(0,t.createElement)(l.CardMedia,null,(0,t.createElement)("img",{src:smartvideoPlugin.assetUrl+"/admin/images/accelon.gif",alt:""})),(0,t.createElement)("div",{className:"setup-paragraph"},"If the popup box says ",(0,t.createElement)("b",null,"Video Acceleration: Off"),", the video is still being processed."),(0,t.createElement)("div",{className:"setup-paragraph"},"After the conversion process is complete, the video is hosted on our global delivery network and served via our accelerated playback technology. This means you can keep uploading your videos to YouTube and placing them on your site, as SmartVideo will continuously look for new videos and convert them automatically."))),(0,t.createElement)(l.CardBody,null,(0,t.createElement)("p",null,(0,t.createElement)("b",null,"If you have questions"),", take a look at the Frequently Asked Questions collection in our Help Center."),(0,t.createElement)(l.Button,{className:"swarmify-button",variant:"primary",href:"https://swarmify.idevaffiliate.com/idevaffiliate.php?id=10275&url=50",target:"_blank"},"FAQs")),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)(l.CardBody,null,(0,t.createElement)("p",null,(0,t.createElement)("b",null,"If you are not using a supported builder or editor"),", YouTube and Vimeo videos should be auto-converted just fine. However, if you want to add a SmartVideo directly to your site, you'll have to make use of a SmartVideo tag. Click the button below to learn about SmartVideo tags."),(0,t.createElement)(l.Button,{className:"swarmify-button",variant:"primary",href:"https://swarmify.idevaffiliate.com/idevaffiliate.php?id=10275&url=51",target:"_blank"},"SmartVideo tags"))),w=({opts:e,updateToggleOption:a})=>{const n=""!==e.swarmify_cdn_key,r=n?"Enable SmartVideo":"You must enter a valid Swarm CDN Key before you can enable SmartVideo. Click on the Setup tab.";return(0,t.createElement)(l.ToggleControl,{className:"status-toggle-label",label:r,checked:p(e.swarmify_status),disabled:!n,__nextHasNoMarginBottom:!0,onChange:e=>a("swarmify_status",e)})},b=({opts:e,updateSwarmifySetting:a})=>null==e.swarmify_cdn_key?(0,t.createElement)(l.Card,null,(0,t.createElement)(l.CardBody,null,(0,t.createElement)(l.__experimentalHStack,{alignment:"center"},(0,t.createElement)(l.Spinner,{style:{width:"50%",height:"50%",maxHeight:"200px"}})))):(0,t.createElement)(l.Card,null,(0,t.createElement)(l.CardBody,null,(0,t.createElement)(w,{opts:e,updateToggleOption:a})),(0,t.createElement)(l.CardBody,null,(0,t.createElement)(l.Card,null,(0,t.createElement)(l.CardHeader,{isShady:!0},"Basic Options"),(0,t.createElement)(l.CardBody,null,(0,t.createElement)(l.__experimentalVStack,{spacing:4},(0,t.createElement)("div",{className:"option-text"},"YouTube & Vimeo auto-conversions"),(0,t.createElement)(l.CheckboxControl,{label:"Convert YouTube and Vimeo embeds to SmartVideos automatically.",checked:p(e.swarmify_toggle_youtube),onChange:e=>a("swarmify_toggle_youtube",e)}),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)("div",{className:"option-text"},"YouTube captions"),(0,t.createElement)(l.CheckboxControl,{label:"Import and display closed captions/subtitles from YouTube.",checked:p(e.swarmify_toggle_youtube_cc),onChange:e=>a("swarmify_toggle_youtube_cc",e)}),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)("div",{className:"option-text"},"Background & HTML video auto-conversions"),(0,t.createElement)(l.CheckboxControl,{label:"Optimizes background and HTML videos but does not place them in SmartVideo player. May conflict with some layouts.",checked:p(e.swarmify_toggle_bgvideo),onChange:e=>a("swarmify_toggle_bgvideo",e)}),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)("div",{className:"option-text"},"Play button shape"),(0,t.createElement)(l.SelectControl,{value:e.swarmify_theme_button,onChange:e=>a("swarmify_theme_button",e)},(0,t.createElement)("option",{value:"default"},"Hexagon (default)"),(0,t.createElement)("option",{value:"rectangle"},"Rectangle"),(0,t.createElement)("option",{value:"circle"},"Circle")),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)("div",{className:"option-text"},"Player accent color"),(0,t.createElement)(l.ColorPicker,{color:e.swarmify_theme_primarycolor,copyFormat:"hex",defaultValue:"#ffde17",onChange:e=>a("swarmify_theme_primarycolor",e)}))))),(0,t.createElement)(l.CardBody,null,(0,t.createElement)(l.Panel,null,(0,t.createElement)(l.PanelBody,{title:"Advanced Options",initialOpen:!1},(0,t.createElement)(l.PanelRow,null,(0,t.createElement)(l.__experimentalVStack,{spacing:4,style:{margin:"15px 0"}},(0,t.createElement)("div",{className:"option-text"},"Use iframe layout"),(0,t.createElement)(l.CheckboxControl,{label:"Enables iframe-based layouts. If disabled, falls back to video tags.",checked:p(e.swarmify_toggle_layout),onChange:e=>a("swarmify_toggle_layout",e)}),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)("div",{className:"option-text"},"Upload acceleration"),(0,t.createElement)(l.CheckboxControl,{label:"If you have trouble with uploads, try turning this off.",checked:p(e.swarmify_toggle_uploadacceleration),onChange:e=>a("swarmify_toggle_uploadacceleration",e)}),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)("div",{className:"option-text"},"Watermark (Video Pro plan and up only)"),(0,t.createElement)("div",null,"Choose an image from your WordPress Media Library to watermark on the SmartVideo Player."),(0,t.createElement)(c,{image:e.swarmify_watermark,onChange:e=>a("swarmify_watermark",e)}),(0,t.createElement)(l.CardDivider,null),(0,t.createElement)("div",{className:"option-text"},"VAST advertising (Video Pro plan and up only)"),(0,t.createElement)("div",null,(0,t.createElement)(l.__experimentalInputControl,{value:e.swarmify_ads_vasturl,type:"url",onChange:e=>a("swarmify_ads_vasturl",e),placeholder:"https://example.com"})),(0,t.createElement)("div",{style:{fontSize:"smaller"}},"Grab your VAST ad URL from your advertising management platform and paste it here."))))))),C=()=>{var e;return(0,t.createElement)("footer",null,(0,t.createElement)(l.Card,null,(0,t.createElement)(l.CardBody,null,(0,t.createElement)("h2",null,"If you do not have a SmartVideo account yet, click the button below and create an account:"),(0,t.createElement)("p",{className:"paragraph"},"Every account comes with a free trial. Once you create an account, return here and click the ",(0,t.createElement)("b",null,"Setup")," tab."),(0,t.createElement)(l.Button,{className:"swarmify-button",variant:"primary",href:"https://swarmify.idevaffiliate.com/idevaffiliate.php?id=10275&url=46",target:"_blank"},"Create an account")),(0,t.createElement)(l.CardFooter,{justify:"flex-end"},(0,t.createElement)("p",{className:"copyright"},"SmartVideo Version ",null!==(e=smartvideoPlugin?.version)&&void 0!==e?e:"1.0.0"," powered by ",(0,t.createElement)("a",{target:"_blank",href:"https://swarmify.idevaffiliate.com/idevaffiliate.php?id=10275&url=48"},"Swarmify")))))},x=({status:e,cdnKey:a})=>{const n=p(e)&&""!==a,{str:r,color:o}=n?{str:"ON",color:"#85E996"}:{str:"OFF",color:"#F45052"};return(0,t.createElement)("header",null,(0,t.createElement)(l.Flex,{direction:"row",justify:"space-between",wrap:!0},(0,t.createElement)("img",{className:"img-responsive",src:smartvideoPlugin.assetUrl+"/admin/images/smartvideo_logo.png",alt:"SmartVideo header"}),(0,t.createElement)("div",{className:"swarmify-status"},"SmartVideo: ",(0,t.createElement)(E,{checkVal:a},(0,t.createElement)("span",{style:{color:o}},r)))))};document.getElementById("smartvideo-admin-root")&&(0,n.render)((0,t.createElement)((()=>{const[e,r]=(0,n.useState)(smartvideoPlugin.initialSettings),o=(0,n.useCallback)((0,u.debounce)((e=>{d()({url:smartvideoPlugin.settingsUrl,method:"POST",data:e}).then((e=>{e.success||alert("Error saving settings. Try reloading the admin page.")}))}),100)),i=(t,a)=>{const l={...e,[t]:y(a)};var n;r(n=l),o(n)},m=e=>{document.getElementsByClassName(e)?.[0]?.click()};return(0,t.createElement)(n.Fragment,null,(0,t.createElement)("h2",{id:"smartvideo-action-scheduler-notice-trap"}),(0,t.createElement)("section",{id:"smartvideo-admin"},(0,t.createElement)(l.__experimentalVStack,{spacing:8},(0,t.createElement)(x,{status:e.swarmify_status,cdnKey:e.swarmify_cdn_key}),(0,t.createElement)(l.TabPanel,{initialTabName:"welcome",onSelect:function(){},activeClass:"is-active",className:"swarmify-tab-panel",tabs:[{name:"welcome",title:(0,a.__)("Welcome",smartvideoPlugin.textDomain),className:"swarmify-tab swarmify-tab-welcome"},{name:"setup",title:(0,a.__)("Setup",smartvideoPlugin.textDomain),className:"swarmify-tab swarmify-tab-setup"},{name:"usage",title:(0,a.__)("Usage",smartvideoPlugin.textDomain),className:"swarmify-tab swarmify-tab-usage"},{name:"settings",title:(0,a.__)("Settings",smartvideoPlugin.textDomain),className:"swarmify-tab swarmify-tab-settings"}]},(a=>{switch(a.name){case"welcome":return(0,t.createElement)(h,{jumpToSetup:(0,u.partial)(m,"swarmify-tab-setup")});case"setup":return(0,t.createElement)(f,{cdnKey:e.swarmify_cdn_key,updateSwarmifySetting:i,jumpToUsage:(0,u.partial)(m,"swarmify-tab-usage")});case"usage":return(0,t.createElement)(v,null);case"settings":return(0,t.createElement)(b,{opts:e,updateSwarmifySetting:i});default:throw new Error("Unknown tab: "+a)}})),(0,t.createElement)(C,null))))}),null),document.getElementById("smartvideo-admin-root"))})();